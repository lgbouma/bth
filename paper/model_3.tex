\subsection{Model \#3: Fixed primaries, varying planets and secondaries}
\label{sec:model_3}

In this model, as in the previous one, all single and primary stars have 
identical properties.
Only the secondaries have masses, radii, and luminosities that vary between 
systems: $M\propto R \propto L^{1/\alpha}$.
The radii of planets are assigned independently of any host system
property, and are sampled from an intrinsic radius distribution, which we take 
as
\begin{align}
p_r(r)
&\propto
\left.
\begin{cases}
r^\delta & \text{for } r\geq 2r_\oplus \\
{\rm constant} & \text{for } r\leq2r_\oplus.
\end{cases}
\right.
\label{eq:model3_radius_distribution}
\end{align}
Following Howard et al. (2012)'s measurement, we take $\delta = -2.92$.
Our ``nominal model'' remains the same: the binary fraction is 0.44, 
$\alpha=\beta=\gamma=0$.
We take $\Lambda_i$, the occurrence rate integrated over all possible phase 
space for the $i^{\rm th}$ system type, to be equal for singles, primaries, 
and secondaries. 

For this model, we forgo analytic development and focus only on numerics 
(Sec.~\ref{sec:numerical_methods}).
The nominal results are shown in Fig.~\ref{fig:errcases_model_3_log}.
For the assumed planetary and stellar distributions, the inferred rate is 
underestimated over all radii.
Taking Fig.~\ref{fig:errcases_model_3_log} and counting the number of planets 
per star with $r>8r_\oplus$, we can compare the true and inferred hot Jupiter 
occurrence rates.
Under the previously described assumptions, the true rate is 9.1 hot Jupiters 
per thousand stars.
The inferred rate is 6.9 per thousand stars.
This means that the inferred rate underestimates the true rate by a 
multiplicative factor of $\sim 1.3$.
This number is suggestively close to the claimed discrepancy between 
hot Jupiter occurrence rates measured by radial velocity and transit surveys 
(Wright et al. 2012).

However, this result only applies under the assumption that $\Lambda_0 = 
\Lambda_1 = \Lambda_2$.
If hot Jupiters are less common around less-massive stars, it would be more 
sensible to consider $\Lambda_2<\Lambda_0$, while letting single stars and 
primaries host planets at the same rate.
Therefore in Fig.~\ref{fig:HJ_correction_inputrate_vs_HJratevalues}, we let 
$\Lambda_2$ vary, and show the resulting inferred and true hot Jupiter 
($r>8r_\oplus$) rates.
We see that the inferred rate is nearly independent of $\Lambda_2$~--~this is 
because most ($<1/10$) secondaries are not searchable, and so their 
completeness fraction is much smaller than that of primaries or single stars.
This means far fewer detected hot Jupiters orbit secondaries, and so they 
hardly affect the inferred rate.
In contrast, the true rate is highly dependent on $\Lambda_2$, as one would 
expect from Eq.~\ref{eq:occ_rate}..

This means that the ``correction factor'' from an inferred rate to a true 
rate, in this case for hot Jupiters but also more generally, depends strongly 
on the intrinsic occurrence of the planet type of interest.
This is illustrated visually in 
Fig.~\ref{fig:HJ_correction_inputrate_vs_HJrate_correction_factor}, which 
shows that for $\Lambda_2 = \Lambda_0$, the inferred rate is underestimated by 
a factor of $\sim1.3$.
However if $\Lambda_2 = 0$, the inferred rate is actually an overestimate, 
by a factor of $\sim1.1$.
Though the true ratio $\Lambda_2/\Lambda_0$ is unknown for hot Jupiters, a 
reasonable estimate might be to imagine that only stars with mass 
$>0.7M_\odot$ might be capable of hosting them.
For our nominal mass ratio distribution, this is $48\%$ of secondaries, so a 
reasonable interpretation of 
Fig.~\ref{fig:HJ_correction_inputrate_vs_HJrate_correction_factor} would be 
that an observer ignoring binarity might underestimate HJ occurrence rates by 
a factor of $\sim1.1$.
Assuming that RV surveys contain far fewer binary systems than transit 
surveys, this suggests that the effect likely contributes towards the HJ rate 
discrepancy.